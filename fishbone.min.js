function Model(a){function b(){var b=this,c={},d,e,f,g,h,i;b.on=function(a,b){f=c[a]||(c[a]=[]),f.push(b)},b.trigger=function(a,b){for(f=c[a],h=0;f&&h<f.length;h++)f[h](b)},b.off=function(a,b){for(f=c[a]||[];b&&(h=f.indexOf(b))>-1;)f.splice(h,1);c[a]=b?f:[]};for(d in a)e=a[d],a.hasOwnProperty(d)&&(b[d]=typeof e=="function"?function(){return g=this.apply(b,arguments),g===i?b:g}.bind(e):e);b.init&&b.init.apply(b,arguments)}return b.extend=function(b){var c={},d;for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return Model(c)},b}typeof module=="object"&&(module.exports=Model);