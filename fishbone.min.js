function Model(a){return function(b){var c=this,d={},e,f,g;c.on=function(a,b){var c=d[a]||(d[a]=[]);c.push(b)},c.trigger=function(a,b){for(var c=d[a],e=0;c&&e<c.length;e++)c[e](b)},c.off=function(a,b){for(var c=d[a]||[],e;b&&(e=c.indexOf(b))>-1;)c.splice(e,1);d[a]=c};for(e in a)f=a[e],a.hasOwnProperty(e)&&(c[e]=typeof f=="function"?function(){var a=this.apply(c,arguments);return a===g?c:a}.bind(f):c[e]=f);c.init(b)}}typeof module=="object"&&(module.exports=Model);